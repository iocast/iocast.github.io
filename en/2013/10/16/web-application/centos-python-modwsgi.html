<!doctype html>
<html lang="en-US">
	<head>
			<meta charset="utf-8" />
	
  <title>Python 2.7.x and mod_wsgi on a CentOS 6 | iocast&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


	
		<link rel="icon" href="/favicon.png">
	


	<script src="/js/jquery.min.js" type="text/javascript"></script>
<script src="/js/jquery.mixitup.min.js" type="text/javascript"></script>
<script src="/js/stickyfill.js" type="text/javascript"></script>

	<!--CDN links for the latest TweenLite, CSSPlugin, and EasePack-->
	<script src="http://www.greensock.com/js/src/utils/SplitText.min.js"></script>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/latest/plugins/CSSPlugin.min.js"></script>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/latest/easing/EasePack.min.js"></script>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TimelineLite.min.js"></script>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenLite.min.js"></script>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.4/hammer.min.js"></script>


	<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>

	<link rel="stylesheet" href="/css/font-awesome.min.css" type="text/css">


	
		<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
		<script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>
		
		<link rel="stylesheet" href="/css/post.css" type="text/css">
		<script src="/js/post.js" type="text/javascript"></script>
	

	<link rel="stylesheet" href="/css/style.css" type="text/css">

	</head>
	<body>
		
<div class="wrapper cf">
	<div class="content article-entry">
		<header>
			<h1>Python 2.7.x and mod_wsgi on a CentOS 6</h1>
		</header>
		<small>
			
				<a href="http://localhost:4000/categories/Web-Application/" rel="tag tooltip" class="label light" data-placement="right" data-original-title="2 articles in this category"><i class="fa fa-dot-circle-o"></i> Web Application</a>
			
      <a href="http://localhost:4000/en/2013/10/16/web-application/centos-python-modwsgi.html#disqus_thread" class="scrollTo label label-default light" data-disqus-identifier="blog/2014/07/21-javascript-internationalization-part1.html"><i class="fa fa-comment-o"></i> ?? Comments</a>
      <span class="label label-default light">21/Jul/2014 Mon</span>
    </small>

		<p>When you have installed CentOS 6 using the minimal image we need first to do some preparation. Fist login into your system and enable your <code>eth0</code> at startup.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vi /etc/sysconfig/network-scripts/ifcfg-eth0</span><br></pre></td></tr></table></figure>
<p>and set <code>ONBOOT</code> to <code>yes</code>.</p>
<h2 id="Getting_Python_2-7-x"><a href="#Getting_Python_2-7-x" class="headerlink" title="Getting Python 2.7.x"></a>Getting Python 2.7.x</h2><p>The following explanations are based on a blog of <a href="http://blog.nickhowell.co.uk/2010/11/30/setup-osqa-on-centos-5-5" title="Setup OSQA on CentOS 5.5 | nickhowell.co.uk">Asim Teeshan</a> and a post on <a href="http://www.fir3net.com/Redhat-/-Fedora/how-do-i-compile-modwgsi-for-python-27.html" title="How do I compile mod_wsgi for Python 2.7">Fire3Net</a>.</p>
<p>First we need some development tools. Install the following once</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum install gcc make zlib-devel bzip2-devel openssl-devel</span><br></pre></td></tr></table></figure>
<p>Now download the latest 2.7.x Python release and enable shared library during the configuation</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /opt/</span><br><span class="line">wget http://python.org/ftp/python/<span class="number">2.7</span>.<span class="number">5</span>/Python-<span class="number">2.7</span>.<span class="number">5</span>.tgz</span><br></pre></td></tr></table></figure>
<p>Extract and install it:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar -zxvf Python-<span class="number">2.7</span>.<span class="number">5</span>.tgz</span><br><span class="line"><span class="built_in">cd</span> Python-<span class="number">2.7</span>.<span class="number">5</span></span><br><span class="line">./configure --enable-shared</span><br><span class="line">make &amp;&amp; make altinstall</span><br></pre></td></tr></table></figure>
<p>Install Python setuptools for using <code>easy_setup</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget http://pypi.python.org/packages/<span class="number">2.7</span>/s/setuptools/setuptools-<span class="number">0.6</span>c11-py2.<span class="number">7</span>.egg</span><br><span class="line">sh setuptools-<span class="number">0.6</span>c11-py2.<span class="number">7</span>.egg</span><br></pre></td></tr></table></figure>
<p>Before we can install <code>mod_wsgi</code> we need to install the http development libraries</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum install httpd httpd-devel</span><br></pre></td></tr></table></figure>
<p>Now we are ready to compile <code>mod_wsgi</code> against Python 2.7.x</p>
<p>Download and unpack the latest version</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget http://modwsgi.googlecode.com/files/mod_wsgi-<span class="number">3.4</span>.tar.gz</span><br><span class="line">tar -zxvf mod_wsgi-<span class="number">3.4</span>.tar.gz</span><br><span class="line"><span class="built_in">cd</span> mod_wsgi-<span class="number">3.4</span>.tar.gz</span><br><span class="line">./configure --with-python=/usr/<span class="built_in">local</span>/bin/python2.<span class="number">7</span></span><br></pre></td></tr></table></figure>
<p>Make sure you specify the path to the python binary. You can find out where your Python binary is by issuing the following command:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">whereis python</span><br></pre></td></tr></table></figure>
<p>Once the configuration completed you can install it:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure>
<p>If you run into problems along the lines <strong>cannot load shared library libpython2.7â€¦</strong> then you need run the <code>ldconfig</code> first to tell where the <code>libpython2.7.so*</code> files are:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ln <span class="operator">-s</span> /usr/<span class="built_in">local</span>/lib/libpython2.<span class="number">7</span>.so.<span class="number">1.0</span> /usr/lib/</span><br><span class="line">ln <span class="operator">-s</span> /usr/<span class="built_in">local</span>/lib/libpython2.<span class="number">7</span>.so /usr/</span><br><span class="line">ldconfig</span><br></pre></td></tr></table></figure>
<p>Lastly we can install <code>virtualenv</code> as follow:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget http://pypi.python.org/packages/<span class="built_in">source</span>/v/virtualenv/virtualenv-<span class="number">1.10</span>.<span class="number">1</span>.tar.gz</span><br><span class="line">tar -zxvf virtualenv-<span class="number">1.10</span>.<span class="number">1</span>.tar.gz</span><br><span class="line"><span class="built_in">cd</span> virtualenv-<span class="number">1.10</span>.<span class="number">1</span></span><br><span class="line">python2.<span class="number">7</span> setup.py install</span><br></pre></td></tr></table></figure>
<p>install psycopg2</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget --no-check-certificate https://pypi.python.org/packages/<span class="built_in">source</span>/p/psycopg2/psycopg2-<span class="number">2.5</span>.<span class="number">1</span>.tar.gz</span><br><span class="line">tar -zxvf psycopg2-<span class="number">2.5</span>.<span class="number">1</span>.tar.gz</span><br><span class="line"><span class="built_in">cd</span> psycopg2-<span class="number">2.5</span>.<span class="number">1</span></span><br><span class="line">vi setup.cfg</span><br></pre></td></tr></table></figure>
<p>and add the following line</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pg_config=/usr/pgsql-9.3/bin/pg_config</span><br></pre></td></tr></table></figure>
<p>now install it</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/usr/<span class="built_in">local</span>/bin/python2.<span class="number">7</span> setup.py install</span><br></pre></td></tr></table></figure>
<p>now creating a virtual env for you web application do it as follow</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">virtualenv-<span class="number">2.7</span> --system-site-packages ENV</span><br></pre></td></tr></table></figure>

	</div>
	<div id="sidebar" class="sidebar">
		<h3>Table of Content</h3>
		<nav class="toc">
			<ol class="toc-item"><li class="toc-item-item toc-item-level-2"><a class="toc-item-link" href="#Getting_Python_2-7-x"><span class="toc-item-text">Getting Python 2.7.x</span></a></li></ol>
		</nav>
	</div>
</div>

	</body>
</html>
