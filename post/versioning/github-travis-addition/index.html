<!doctype html>
<html lang="en-US">

<head>
     <meta charset="utf-8">
     <meta http-equiv="X-UA-Compatible" content="IE=edge">
     <meta name="description" content="blog, cheatsheets, best practices, and more">
     <meta name="author" content="Iocast">
     <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">

    <title>GitHub Pages for a repository compiling using Travis CI -- think twice code once!</title>

    

    
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="http://iocast.github.io/css/material.min.css">


    
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/styles/default.min.css">


    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/material-design-iconic-font/2.2.0/css/material-design-iconic-font.min.css">

    
    <link rel="stylesheet" href="http://iocast.github.io/css/general.css">
    <link rel="stylesheet" href="http://iocast.github.io/css/header.css">
    <link rel="stylesheet" href="http://iocast.github.io/css/page.css">
    <link rel="stylesheet" href="http://iocast.github.io/css/contact.css">
    <link rel="stylesheet" href="http://iocast.github.io/css/article.css">

    <link rel="stylesheet" href="http://iocast.github.io/css/post.css">
    <link rel="stylesheet" href="http://iocast.github.io/css/cheatsheet.css">

    <link rel="stylesheet" href="http://iocast.github.io/css/mobile.css">


    
    
    

</head>

<body>
  <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">

    <header class="header mdl-layout__header mdl-layout__header--waterfall">
      <div class="mdl-layout__header-row">
        <a href="http://iocast.github.io/">
          <span class="title mdl-layout-title">
            <img class="logo-image" src="http://iocast.github.io/img/logo-white.png">
          </span>
        </a>
        
        <div class="mdl-layout-spacer"></div>
        
        
        <div class="navigation-container">
          <nav class="navigation mdl-navigation">

            
              <li>
                  <a class="mdl-navigation__link mdl-typography--text-uppercase" href="http://iocast.github.io/post/">Archives</a>
              </li>
            
              <li>
                  <a class="mdl-navigation__link mdl-typography--text-uppercase" href="http://iocast.github.io/cheatsheet/">Cheatsheet</a>
              </li>
            

          </nav>
        </div>
        <a class="mobile-title" href="http://iocast.github.io/">
          <span class="mdl-layout-title">
            <img class="logo-image" src="http://iocast.github.io/img/logo-white.png">
          </span>
        </a>
        
      </div>
    </header>

    <nav class="drawer mdl-layout__drawer">
  <span class="mdl-layout-title">
    <img class="logo-image" src="http://iocast.github.io/img/logo-white.png">
  </span>
  <nav class="mdl-navigation">

    
    <a class="mdl-navigation__link" href="http://iocast.github.io/post/">Archives</a>
    
    <a class="mdl-navigation__link" href="http://iocast.github.io/cheatsheet/">Cheatsheet</a>
    
    
  </nav>
</nav>


    <main class="mdl-layout__content">
      <a name="top"></a>


<article class="post">


  



  <header class="mdl-typography--text-center">
      <div class="title">GitHub Pages for a repository compiling using Travis CI</div>
      <div class="description">Here I describe how you could use Travis CI to generate e.g. a Sphinx documentation when you already have a GitHub token for Travsi CI and want to reuse it.</div>
      <div class="meta">
  <small>by</small> <a href="http://iocast.github.io/author/iocast">iocast</a>
  | Thu, 17 Apr 2014 |

  in 
    <a href="http://iocast.github.io/categories/versioning">
          <span class="mdl-chip__text">Versioning</span>
    </a>
  

  <div class="tags">
  
    <a href="http://iocast.github.io/tags/github">
          <span class="mdl-chip__ext">#github</span>
    </a>
  
    <a href="http://iocast.github.io/tags/jekyll">
          <span class="mdl-chip__ext">#jekyll</span>
    </a>
  
    <a href="http://iocast.github.io/tags/travis">
          <span class="mdl-chip__ext">#travis</span>
    </a>
  
    <a href="http://iocast.github.io/tags/bash">
          <span class="mdl-chip__ext">#bash</span>
    </a>
  
    <a href="http://iocast.github.io/tags/continuous-integration">
          <span class="mdl-chip__ext">#continuous integration</span>
    </a>
  
  </div>
</div>



      

      <a href="#content">
          <button class="fab mdl-button mdl-button--colored mdl-js-button mdl-button--fab mdl-js-ripple-effect" data-upgraded=",MaterialButton,MaterialRipple">
              <i class="material-icons">expand_more</i>
              <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span>
          </button>
      </a>

  </header>


  <section class="content">
      <a name="content"></a>
      <p>First of all check if you have already a <strong>personal access token</strong>.</p>

<p><img src="github_personal_access_tokens.png" alt="GitHub personal access tokens" title="GitHub personal access tokens" /></p>

<p>If not, you can follow these <a href="{% post_url 2013-10-08-github-jekyll-travis %}">instructions</a></p>

<p>On Travis we need to grant access to the GitHub repository. Login to Travis and in your account settings under repositories you can enable a project.</p>

<p><img src="travis_grant_repository_access.png" alt="Travis grant access to GitHub repository" title="Travis grant access to GitHub repository" /></p>

<p>The next thing is to generate a new secure string for your <code>.travis.yml</code> file. First we need to get the GitHub personal access token, which you generated beforehand. Run the following command to get a list of all your access tokens.</p>

<pre><code class="language-bash">curl -X GET -u &lt;your_github_username&gt; https://api.github.com/authorizations
</code></pre>

<p>You should get a JSON response which looks like this</p>

<pre><code class="language-json">...
{
	&quot;id&quot;: 1234567,
	&quot;url&quot;: &quot;https://api.github.com/authorizations/1234567&quot;,
	&quot;app&quot;: {
		&quot;name&quot;: &quot;travis: token for pushing from travis (API)&quot;,
		&quot;url&quot;: &quot;http://developer.github.com/v3/oauth_authorizations/&quot;,
		&quot;client_id&quot;: &quot;00000000000000000000&quot;
		},
	&quot;token&quot;: &quot;1abc234d56efghi789&quot;,
	&quot;note&quot;: &quot;travis: token for pushing from travis&quot;,
	&quot;note_url&quot;: null,
	&quot;created_at&quot;: &quot;2014-01-01T12:00:00Z&quot;,
	&quot;updated_at&quot;: &quot;2014-01-01T12:00:00Z&quot;,
	&quot;scopes&quot;: [
		&quot;public_repo&quot;
	]
},
...
</code></pre>

<p>So we are ready to generate the secure string for Travis. Be sure that you have installed <code>travis</code> rubygem using the following command <code>gem install travis</code>. Open a terminal and go to the folder where <code>.travis.yml</code> lays and add the secure string to it</p>

<pre><code class="language-bash">cd /path/to/the/.travsi.yml/file
travis encrypt -r &lt;user&gt;/&lt;repository&gt; GH_TOKEN=&lt;token&gt; --add env.global
</code></pre>

<p>That&rsquo;s all the magic. You are done and can push your changes to the GitHub repository which automatically deploys it on Travis CI.</p>

  </section>

  



</article>

        <footer class="mdl-mega-footer footer">
            <div class="mdl-mega-footer--top-section">
                <div class="mdl-mega-footer--left-section">
                  
                    <button name="social-" data-url="https://github.com/iocast" class="mdl-mega-footer--social-btn"><i class="zmdi zmdi-github zmdi-hc-2x"></i></button>&nbsp;
                  
                </div>
                <div class="mdl-mega-footer--right-section">
                    <a class="mdl-typography--font-light" href="#top">
                        Back to Top
                        <i class="material-icons">expand_less</i>
                    </a>
                </div>
            </div>

        </footer>
      </main>
    </div>

    
    <script src="http://iocast.github.io/js/material.min.js"></script>

    
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    
    <script src="http://iocast.github.io/js/site.js"></script>

  </body>

</html>

